# SAM CLI configuration file
# Run `sam deploy --guided` to update

version = 0.1

[default.global.parameters]
stack_name = "complens"

[default.build.parameters]
cached = true
parallel = true

[default.validate.parameters]
lint = true

[default.deploy.parameters]
capabilities = "CAPABILITY_IAM CAPABILITY_AUTO_EXPAND"
confirm_changeset = true
resolve_s3 = true

[default.local_start_api.parameters]
warm_containers = "EAGER"

# Development environment
[dev]
[dev.deploy.parameters]
stack_name = "complens-dev"
s3_prefix = "complens-dev"
region = "us-east-1"
confirm_changeset = false
resolve_s3 = true
capabilities = "CAPABILITY_IAM CAPABILITY_NAMED_IAM CAPABILITY_AUTO_EXPAND"
parameter_overrides = "Stage=dev DomainName=dev.complens.ai HostedZoneId=Z02373573N3XBHSZBERY6 EnableCustomDomain=true"

[dev.local_start_api.parameters]
port = 3001
env_vars = "env.json"

# Staging environment
# Note: Update DomainName and HostedZoneId when staging hosted zone is created
[staging]
[staging.deploy.parameters]
stack_name = "complens-staging"
s3_prefix = "complens-staging"
region = "us-east-1"
confirm_changeset = true
resolve_s3 = true
capabilities = "CAPABILITY_IAM CAPABILITY_NAMED_IAM CAPABILITY_AUTO_EXPAND"
parameter_overrides = "Stage=staging DomainName=staging.complens.ai HostedZoneId=PLACEHOLDER"

# Production environment
# Note: Update DomainName and HostedZoneId when production hosted zone is created
[prod]
[prod.deploy.parameters]
stack_name = "complens-prod"
s3_prefix = "complens-prod"
region = "us-east-1"
confirm_changeset = true
resolve_s3 = true
capabilities = "CAPABILITY_IAM CAPABILITY_NAMED_IAM CAPABILITY_AUTO_EXPAND"
parameter_overrides = "Stage=prod DomainName=complens.ai HostedZoneId=PLACEHOLDER"
